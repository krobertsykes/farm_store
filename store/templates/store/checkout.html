{% extends "store/base.html" %}
{% block content %}
<h1 class="text-2xl font-bold mb-4">Checkout</h1>

<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
  <div class="md:col-span-1 space-y-4">
    {% if not request.user.is_authenticated %}
      <div class="bg-white p-4 rounded shadow">
        <h2 class="font-semibold mb-2">Sign in</h2>
        <a class="inline-block px-3 py-2 bg-green-700 text-white rounded" href="{% url 'accounts:login' %}">Login</a>
      </div>
      <div class="bg-white p-4 rounded shadow">
        <h2 class="font-semibold mb-2">New here?</h2>
        <p class="text-sm text-gray-700 mb-2">Create an account and get <strong>10% off</strong> for 1 month.</p>
        <a class="inline-block px-3 py-2 bg-green-700 text-white rounded" href="{% url 'accounts:signup' %}">Create account</a>
      </div>
      <div class="bg-white p-4 rounded shadow">
        <h2 class="font-semibold mb-2">Or checkout as guest</h2>
        <p class="text-sm text-gray-600">Provide at least an email so we can send your confirmation.</p>
      </div>
    {% else %}
      <div class="bg-white p-4 rounded shadow">
        <h2 class="font-semibold mb-2">You're signed in</h2>
        <p class="text-sm text-gray-600">{{ request.user.email }}</p>
      </div>
    {% endif %}
  </div>

  <div class="md:col-span-2">
    <form method="post" class="bg-white p-4 rounded shadow space-y-4">
      {% csrf_token %}
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium">Email</label>
          {{ form.email }}
        </div>
        <div>
          <label class="block text-sm font-medium">Phone</label>
          {{ form.phone }}
          <p class="text-xs text-gray-500 mt-1">SMS may incur carrier charges.</p>
        </div>
      </div>
      <div>
        <label class="block text-sm font-medium mb-1">Payment method</label>
        {{ form.payment_method }}
      </div>
      <button class="px-4 py-2 bg-green-700 text-white rounded">Place order</button>
    </form>
  </div>
</div>
{% endblock %}
